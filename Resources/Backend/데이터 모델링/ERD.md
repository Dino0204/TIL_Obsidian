Entity Relationship Diagram([[엔티티]] 관계 다이어그램)

데이터베이스 설계 과정에서 사용되는 [[데이터 모델링]] 기법 중 하나.
엔티티들과 엔티티 간의 관계를 시각적으로 표현한다. 
데이터베이스 설계의 초기 단계에서 개념적 모델을 만드는데 사용 된다.

## ERD를 작성하는 이유
---
데이터베이스 구조를 시각화하여 개발의 편의성과 구조적 논리적 모순을 조기에 발견할 수 있게 해준다.

## IE/Crow's Foot ERD 작성하는 방법
---
ERD를 작성하는 방법은 여러가지가 있지만 실무에서 가장 많이 쓰이는 IE/Crow's Foot ERD 방법을 알아보자.
![[Pasted image 20250623000620.png]]

### 개체(Entity)
사각형 또는 [[테이블]]로 표기 한다.
![[Pasted image 20250513021432.png]]

### 속성(Attribute)
동그라미로 표기 한다.
![[Pasted image 20250513021441.png]]
속성에 관계선을 이어 [[외래키]]가 어디에 설정되어 있는지 직관적으로 나타낼 수 있다.

### 관계(Relation)
마름모로 표기 한다.
![[Pasted image 20250513021432.png]]
관계를 나타낼 때는 어떤 `행동`에 의해서 관계가 맺어지는지 작성해야 한다. 관계를 생략하는 경우도 있다.

### ERD 작성할 때 고려해야 할 것
1. 주인공 개체로부터 상대 개체로의 `관계`를 먼저 생각하자.
2. 그 관계가 1:1인지 1:다인지, 필수인지 선택 관계인지 생각하자.

## ERD 작성 순서
---
1. 엔티티를 도출하고 그린다.
2. 엔티티를 적절하게 배치한다.
3. 엔티티 간의 관계를 설정한다.
4. 관계명을 기입한다.
5. 관계의 참여도를 기입한다.
6. 관계의 필수/선택 여부를 기입한다.

## 예시
---
![[Pasted image 20250513022058.png]]
각각의 테이블을 주인공으로 하였을 때 관계를 생각해보자.

### 01. User 테이블
- `유저` 1명당 `방`은 0 ~ N개가 있다. -> 방을 만들지 않았을 수 있음
	- 방은 유저 1 ~ N명이 필수 -> 최소 1명은 있어야 함
- `유저` 1명당 `채팅`은 0 ~ N개가 있다. -> 채팅을 작성하지 않았을 수 있음
	- 채팅은 유저 1명이 필수 -> 채팅 하나를 N명이서 작성할 수 없음

### 02. Room 테이블
- `방` N개당 `유저` 1 ~ N명은 필수 -> 최소 1명은 있어야 함
	- 유저는 방이 0개 일 수 있음 -> 방을 안 만들었을 경우
- `방` 1개당 `채팅` 0 ~ N개가 있음 -> 채팅이 아직 작성 되지 않았을 경우
	- 채팅은 방 1개가 필수 -> 채팅이 있는 경우는 방이 있을 경우

### 03. Message 테이블
- `채팅` 1개당 `유저` 1명은 필수 -> 1명이여야만 함
	- 유저는 채팅이 0개 일 수 있음 -> 채팅이 아직 작성 되지 않았을 경우
- `채팅` 1개당  `방`  1개는 필수 -> 1개여야만 함
	- 방은 채팅이 0개 일 수 있음 -> 채팅이 아직 작성 되지 않았을 경우


## 참고 자료
---
https://nbcamp.spartacodingclub.kr/blog/erd-%EA%B0%9C%EC%B2%B4-%EA%B4%80%EA%B3%84-%EC%9D%B4%ED%95%B4%EB%A5%BC-%EB%8F%95%EB%8A%94-%ED%8C%81-19137